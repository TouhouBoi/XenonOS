<?php
global $lib_xenonString;
if (isset($lib_xenonString['ord']) === false || is_array($lib_xenonString['ord']) === false) {
	$lib_xenonString['ord'] = array();
}

/*
 * FUNCTIONS
 */
function utf8_ord($string) {
	global $lib_xenonString;
	
	$string = utf8_substr($string, 0, 1);
	if (isset($lib_xenonString['ord'][$string]) === false) {
		$ord = ord($string);
		$bin = '11111110';
		while ($ord < bindec($bin)) {
			$bin = substr($bin, 1) . '0';
		}
		$ord -= bindec($bin);
		
		$length = strlen($string);
		for ($i = 1; $i < $length; $i++) {
			$ord = $ord * 64 + ord($string[$i]) - 128;
		}
		$lib_xenonString['ord'][$string] = $ord;
	}
	return $lib_xenonString['ord'][$string];
}
?>